# App: Person CRUD Service
# Package: e2e
# File: person.http
# Version: 0.1.0
# Turns: 1
# Author: AI
# Date: 2025-09-06T02:28:22Z
# Exports: POST /api/persons, GET /api/persons/{id}, PUT /api/persons/{id}, DELETE /api/persons/{id}
# Description: Exercises the full CRUD lifecycle for the Person API.

@host = http://localhost:8080

### Create Person
POST {{host}}/api/persons
Content-Type: application/json

{
  "first_name": "John",
  "last_name": "Doe",
  "city": "Metropolis",
  "state": "CA",
  "zip": "12345"
}

> {% client.global.set("id", response.body.id); %}

### Get Person
GET {{host}}/api/persons/{{id}}
Accept: application/json

### Update Person
PUT {{host}}/api/persons/{{id}}
Content-Type: application/json

{
  "first_name": "Jane",
  "last_name": "Doe",
  "city": "Gotham",
  "state": "CA",
  "zip": "12345"
}

### Delete Person
DELETE {{host}}/api/persons/{{id}}

### Get Deleted Person (expect 404)
GET {{host}}/api/persons/{{id}}
Accept: application/json
